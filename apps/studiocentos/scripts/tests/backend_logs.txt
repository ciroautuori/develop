{"timestamp": "2025-12-07T09:34:27.447204+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"ToolAIScheduler._generate_daily_post\" to job store \"default\"", "file": "base.py", "function": "_real_add_job", "line": 1090, "extra": {"taskName": "Task-2"}}
2025-12-07 09:34:27 [info     ] toolai_scheduler_started       categories=['llm', 'image', 'code', 'audio', 'video', 'multimodal'] num_tools=8 schedule='08:30 CET (Europe/Rome)' test_run=09:39:27
{"timestamp": "2025-12-07T09:34:27.447833+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Scheduler started", "file": "base.py", "function": "start", "line": 214, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.448534+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Added job \"MarketingContentScheduler._generate_daily_content\" to job store \"default\"", "file": "base.py", "function": "_real_add_job", "line": 1090, "extra": {"taskName": "Task-2"}}
2025-12-07 09:34:27 [info     ] marketing_scheduler_started    auto_publish=False platforms=['instagram'] post_count=1 pro_quality=True schedule='06:00 CET (Europe/Rome)' story_count=3 video_count=0
{"timestamp": "2025-12-07T09:34:27.449080+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "portfolio-backend", "message": "\u2705 All schedulers started successfully", "file": "startup.py", "function": "initialize_database", "line": 150, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.449331+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "portfolio-backend", "message": "Database initialized", "file": "main.py", "function": "lifespan", "line": 93, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.449613+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.infrastructure.database.models_registry", "message": "\u2705 All SQLAlchemy models configured successfully", "file": "models_registry.py", "function": "configure_all_models", "line": 51, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.449807+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.infrastructure.database.models_registry", "message": "\u2705 User.support_tickets: ENABLED (lazy=dynamic)", "file": "models_registry.py", "function": "configure_all_models", "line": 52, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.450017+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.infrastructure.database.models_registry", "message": "\u2705 User.subscription: ENABLED (lazy=joined)", "file": "models_registry.py", "function": "configure_all_models", "line": 53, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.450250+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.infrastructure.database.models_registry", "message": "\u2705 Profile analytics relationships: ENABLED", "file": "models_registry.py", "function": "configure_all_models", "line": 54, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.450461+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "portfolio-backend", "message": "SQLAlchemy models configured", "file": "main.py", "function": "lifespan", "line": 97, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.450708+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "portfolio-backend", "message": "All schedulers started (ToolAI, Marketing Content, Post Publishing)", "file": "main.py", "function": "lifespan", "line": 102, "extra": {"taskName": "Task-2"}}
{"timestamp": "2025-12-07T09:34:27.451742+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.scheduler", "message": "Removed job toolai_test_generation", "file": "base.py", "function": "remove_job", "line": 728, "extra": {"taskName": null}}
2025-12-07 09:34:27 [warning  ] scheduler_already_running
2025-12-07 09:34:27 [warning  ] toolai_scheduler_already_running
2025-12-07 09:34:27 [warning  ] marketing_scheduler_already_running
{"timestamp": "2025-12-07T09:34:27.452935+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"ToolAIScheduler._generate_daily_post (trigger: date[2025-12-07 09:39:27 CET], next run at: 2025-12-07 09:39:27 CET)\" (scheduled at 2025-12-07 09:39:27.446803+01:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-4"}}
2025-12-07 09:34:27 [info     ] toolai_daily_generation_started date=2025-12-07T09:34:27.453234
2025-12-07 09:34:27 [info     ] toolai_post_already_exists     date=datetime.date(2025, 12, 7) post_id=25
{"timestamp": "2025-12-07T09:34:27.464623+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"ToolAIScheduler._generate_daily_post (trigger: date[2025-12-07 09:39:27 CET], next run at: 2025-12-07 09:39:27 CET)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-4"}}
{"timestamp": "2025-12-07T09:34:29.664474+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "13a6e302-651a-435a-a18d-3d7e10fcf1e5", "extra": {"taskName": "Task-5", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/health", "http_query": null, "client_ip": "172.18.0.1", "user_agent": "python-requests/2.32.5", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:34:29.666080+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "13a6e302-651a-435a-a18d-3d7e10fcf1e5", "extra": {"taskName": "Task-5", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/health", "status_code": 200, "response_size": "160", "duration_ms": 1.73}}
{"timestamp": "2025-12-07T09:34:29.685506+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "9107fc39-d165-46bf-aeb3-b7f3c8d9f5ab", "extra": {"taskName": "Task-5", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/health", "http_query": null, "client_ip": "172.18.0.1", "user_agent": "python-requests/2.32.5", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:34:29.686969+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "9107fc39-d165-46bf-aeb3-b7f3c8d9f5ab", "extra": {"taskName": "Task-5", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/health", "status_code": 200, "response_size": "160", "duration_ms": 1.53}}
{"timestamp": "2025-12-07T09:34:31.031879+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "10c7c7dc-df49-4d7b-a536-63c6a06f051f", "extra": {"taskName": "Task-8", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:34:31.114193+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "10c7c7dc-df49-4d7b-a536-63c6a06f051f", "extra": {"taskName": "Task-8", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "status_code": 200, "response_size": "42", "duration_ms": 82.29}}
{"timestamp": "2025-12-07T09:35:22.524772+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "84e53179-b721-42e1-b74f-b0c0971a633f", "extra": {"taskName": "Task-14", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:22.570924+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "84e53179-b721-42e1-b74f-b0c0971a633f", "extra": {"taskName": "Task-14", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "status_code": 200, "response_size": "42", "duration_ms": 44.51}}
{"timestamp": "2025-12-07T09:35:25.907381+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "0b744ff6-5f5f-4037-9638-f51ea2b9fe2b", "extra": {"taskName": "Task-11", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:25.916163+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "fbf7b982-bd67-4c7c-920b-fabcaa4f5231", "extra": {"taskName": "Task-17", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "http_query": "limit=5", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:25.955583+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "fbf7b982-bd67-4c7c-920b-fabcaa4f5231", "extra": {"taskName": "Task-17", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "status_code": 200, "response_size": "2", "duration_ms": 40.52}}
{"timestamp": "2025-12-07T09:35:25.991318+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "2ad7ace3-0bbc-40d5-bdb6-34b8285013b2", "extra": {"taskName": "Task-5", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/status", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:25.992682+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "ac37749e-6cc4-4afa-9333-0aa5f36d0561", "extra": {"taskName": "Task-5", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/week", "http_query": "start=2025-12-01&end=2025-12-07", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:25.994847+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "37637b59-6505-4a35-91fd-77523dbd6566", "extra": {"taskName": "Task-6", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/stats", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:26.004621+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "27870b0f-7b51-4321-aa3f-0958e78f7f7e", "extra": {"taskName": "Task-7", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/pipeline", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:26.043017+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "0b744ff6-5f5f-4037-9638-f51ea2b9fe2b", "extra": {"taskName": "Task-11", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "status_code": 200, "response_size": "42", "duration_ms": 135.74}}
{"timestamp": "2025-12-07T09:35:26.153697+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "ac37749e-6cc4-4afa-9333-0aa5f36d0561", "extra": {"taskName": "Task-5", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/week", "status_code": 200, "response_size": "2", "duration_ms": 155.76}}
{"timestamp": "2025-12-07T09:35:26.233091+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "2ad7ace3-0bbc-40d5-bdb6-34b8285013b2", "extra": {"taskName": "Task-5", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/status", "status_code": 200, "response_size": "230", "duration_ms": 243.92}}
{"timestamp": "2025-12-07T09:35:26.234247+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "37637b59-6505-4a35-91fd-77523dbd6566", "extra": {"taskName": "Task-6", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/stats", "status_code": 200, "response_size": "341", "duration_ms": 239.42}}
{"timestamp": "2025-12-07T09:35:26.235928+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "27870b0f-7b51-4321-aa3f-0958e78f7f7e", "extra": {"taskName": "Task-7", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/pipeline", "status_code": 200, "response_size": "428", "duration_ms": 231.38}}
{"timestamp": "2025-12-07T09:35:27.121731+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" (scheduled at 2025-12-07 09:35:27.120146+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-14"}}
{"timestamp": "2025-12-07T09:35:27.130134+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-14"}}
{"timestamp": "2025-12-07T09:35:27.155432+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" (scheduled at 2025-12-07 09:35:27.154564+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-8"}}
{"timestamp": "2025-12-07T09:35:27.163494+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-8"}}
{"timestamp": "2025-12-07T09:35:27.328033+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" (scheduled at 2025-12-07 09:35:27.327737+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-14"}}
{"timestamp": "2025-12-07T09:35:27.333747+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-14"}}
{"timestamp": "2025-12-07T09:35:27.431001+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" (scheduled at 2025-12-07 09:35:27.430365+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-20"}}
{"timestamp": "2025-12-07T09:35:27.436707+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:36:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-20"}}
{"timestamp": "2025-12-07T09:35:27.682998+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "c6daa86b-82d7-4714-8d7c-e993e106e916", "extra": {"taskName": "Task-21", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/calendar/stats", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:27.694028+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-15", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/google/analytics/dashboard", "http_query": "days=30", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:27.694985+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "6e96da53-7e0d-4dc7-8d0d-b3b5deeb5451", "extra": {"taskName": "Task-15", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "http_query": "limit=10", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:27.723900+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "6e96da53-7e0d-4dc7-8d0d-b3b5deeb5451", "extra": {"taskName": "Task-15", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "status_code": 200, "response_size": "2", "duration_ms": 28.97}}
{"timestamp": "2025-12-07T09:35:27.712598+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "CRITICAL", "logger": "app.core.api.exceptions.middleware", "message": "Unhandled exception [b8a8ec41-1854-49a7-938f-423eb82722a9]: 'published' is not among the defined enum values. Enum name: poststatus. Possible values: DRAFT, SCHEDULED, PUBLISHING, ..., CANCELLED", "file": "middleware.py", "function": "dispatch", "line": 34, "request_id": "c6daa86b-82d7-4714-8d7c-e993e106e916", "exception": {"type": "LookupError", "message": "'published' is not among the defined enum values. Enum name: poststatus. Possible values: DRAFT, SCHEDULED, PUBLISHING, ..., CANCELLED", "traceback": "Traceback (most recent call last):\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py\", line 1709, in _object_value_for_elem\n    return self._object_lookup[elem]  # type: ignore[return-value]\n           ~~~~~~~~~~~~~~~~~~~^^^^^^\nKeyError: 'published'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/app/core/api/exceptions/middleware.py\", line 29, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 292, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/domain/marketing/routers.py\", line 439, in get_calendar_stats\n    ).group_by(ScheduledPost.status).all()\n                                     ^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py\", line 2704, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 1384, in all\n    return self._allrows()\n           ^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 548, in _allrows\n    rows = self._fetchall_impl()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 2275, in _fetchall_impl\n    return list(self.iterator)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py\", line 220, in chunks\n    fetch = cursor._raw_all_rows()\n            ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 541, in _raw_all_rows\n    return [make_row(row) for row in rows]\n            ^^^^^^^^^^^^^\n  File \"lib/sqlalchemy/cyextension/resultproxy.pyx\", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__\n  File \"lib/sqlalchemy/cyextension/resultproxy.pyx\", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py\", line 1829, in process\n    value = self._object_value_for_elem(value)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py\", line 1711, in _object_value_for_elem\n    raise LookupError(\nLookupError: 'published' is not among the defined enum values. Enum name: poststatus. Possible values: DRAFT, SCHEDULED, PUBLISHING, ..., CANCELLED"}, "extra": {"taskName": "starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro", "error_id": "b8a8ec41-1854-49a7-938f-423eb82722a9", "path": "/api/v1/marketing/calendar/stats", "method": "GET", "client": "172.18.0.8", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"}}
{"timestamp": "2025-12-07T09:35:27.760100+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "c6daa86b-82d7-4714-8d7c-e993e106e916", "extra": {"taskName": "Task-21", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/calendar/stats", "status_code": 500, "response_size": "209", "duration_ms": 77.09}}
{"timestamp": "2025-12-07T09:35:28.404420+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-23"}}
{"timestamp": "2025-12-07T09:35:28.417344+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-21"}}
{"timestamp": "2025-12-07T09:35:28.425153+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-20"}}
{"timestamp": "2025-12-07T09:35:28.437667+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-18"}}
{"timestamp": "2025-12-07T09:35:28.454507+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-19"}}
{"timestamp": "2025-12-07T09:35:28.507961+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-22"}}
{"timestamp": "2025-12-07T09:35:28.512924+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "e05b48d8-0d6c-4041-911a-6071cb579920", "extra": {"taskName": "Task-15", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/google/analytics/dashboard", "status_code": 200, "response_size": "1144", "duration_ms": 819.03}}
{"timestamp": "2025-12-07T09:35:34.724073+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "0f572239-6789-4bf1-a17d-b1946cc780cc", "extra": {"taskName": "Task-27", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:34.724094+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "a55680d1-702d-46eb-8938-db3381aaac85", "extra": {"taskName": "Task-36", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/status", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:34.731330+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "a55680d1-702d-46eb-8938-db3381aaac85", "extra": {"taskName": "Task-36", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/status", "status_code": 200, "response_size": "230", "duration_ms": 7.26}}
{"timestamp": "2025-12-07T09:35:34.735224+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "0f572239-6789-4bf1-a17d-b1946cc780cc", "extra": {"taskName": "Task-27", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "status_code": 200, "response_size": "42", "duration_ms": 11.15}}
{"timestamp": "2025-12-07T09:35:34.736233+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "8c17282a-965e-4006-9f62-540f841a9e19", "extra": {"taskName": "Task-39", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "http_query": "limit=5", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:34.747848+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "2b53c51f-9f91-42f9-85dc-d679c841eaf2", "extra": {"taskName": "Task-18", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/pipeline", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:34.746001+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "6afb870f-5950-4c39-9bbf-a5ccd4032623", "extra": {"taskName": "Task-9", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/week", "http_query": "start=2025-12-01&end=2025-12-07", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:34.750905+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "58436cd9-5368-41b2-80a3-b3fbeca0fc31", "extra": {"taskName": "Task-30", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/stats", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:34.757188+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "8c17282a-965e-4006-9f62-540f841a9e19", "extra": {"taskName": "Task-39", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "status_code": 200, "response_size": "2", "duration_ms": 19.81}}
{"timestamp": "2025-12-07T09:35:34.774872+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "2b53c51f-9f91-42f9-85dc-d679c841eaf2", "extra": {"taskName": "Task-18", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/pipeline", "status_code": 200, "response_size": "428", "duration_ms": 27.05}}
{"timestamp": "2025-12-07T09:35:34.782279+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "6afb870f-5950-4c39-9bbf-a5ccd4032623", "extra": {"taskName": "Task-9", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/scheduler/week", "status_code": 200, "response_size": "2", "duration_ms": 38.03}}
{"timestamp": "2025-12-07T09:35:34.795054+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "58436cd9-5368-41b2-80a3-b3fbeca0fc31", "extra": {"taskName": "Task-30", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/acquisition/stats", "status_code": 200, "response_size": "341", "duration_ms": 46.45}}
{"timestamp": "2025-12-07T09:35:36.523762+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "24afbd42-3b0b-4918-9edf-dbdc3ca881df", "extra": {"taskName": "Task-33", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/calendar/stats", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:36.529353+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-42", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/google/analytics/dashboard", "http_query": "days=30", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:36.531954+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "9f5ac12d-4936-4de6-881c-517974cef2c0", "extra": {"taskName": "Task-21", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "http_query": "limit=10", "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:35:36.537739+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "CRITICAL", "logger": "app.core.api.exceptions.middleware", "message": "Unhandled exception [51c0266b-2ed4-4e31-a2d2-42ec64e3cbab]: 'published' is not among the defined enum values. Enum name: poststatus. Possible values: DRAFT, SCHEDULED, PUBLISHING, ..., CANCELLED", "file": "middleware.py", "function": "dispatch", "line": 34, "request_id": "24afbd42-3b0b-4918-9edf-dbdc3ca881df", "exception": {"type": "LookupError", "message": "'published' is not among the defined enum values. Enum name: poststatus. Possible values: DRAFT, SCHEDULED, PUBLISHING, ..., CANCELLED", "traceback": "Traceback (most recent call last):\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py\", line 1709, in _object_value_for_elem\n    return self._object_lookup[elem]  # type: ignore[return-value]\n           ~~~~~~~~~~~~~~~~~~~^^^^^^\nKeyError: 'published'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/app/core/api/exceptions/middleware.py\", line 29, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/fastapi/routing.py\", line 292, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/domain/marketing/routers.py\", line 439, in get_calendar_stats\n    ).group_by(ScheduledPost.status).all()\n                                     ^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py\", line 2704, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 1384, in all\n    return self._allrows()\n           ^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 548, in _allrows\n    rows = self._fetchall_impl()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 2275, in _fetchall_impl\n    return list(self.iterator)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py\", line 220, in chunks\n    fetch = cursor._raw_all_rows()\n            ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py\", line 541, in _raw_all_rows\n    return [make_row(row) for row in rows]\n            ^^^^^^^^^^^^^\n  File \"lib/sqlalchemy/cyextension/resultproxy.pyx\", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__\n  File \"lib/sqlalchemy/cyextension/resultproxy.pyx\", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py\", line 1829, in process\n    value = self._object_value_for_elem(value)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py\", line 1711, in _object_value_for_elem\n    raise LookupError(\nLookupError: 'published' is not among the defined enum values. Enum name: poststatus. Possible values: DRAFT, SCHEDULED, PUBLISHING, ..., CANCELLED"}, "extra": {"taskName": "starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro", "error_id": "51c0266b-2ed4-4e31-a2d2-42ec64e3cbab", "path": "/api/v1/marketing/calendar/stats", "method": "GET", "client": "172.18.0.8", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"}}
{"timestamp": "2025-12-07T09:35:36.548584+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "24afbd42-3b0b-4918-9edf-dbdc3ca881df", "extra": {"taskName": "Task-33", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/calendar/stats", "status_code": 500, "response_size": "209", "duration_ms": 24.81}}
{"timestamp": "2025-12-07T09:35:36.551830+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "9f5ac12d-4936-4de6-881c-517974cef2c0", "extra": {"taskName": "Task-21", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/marketing/email/campaigns", "status_code": 200, "response_size": "2", "duration_ms": 19.92}}
{"timestamp": "2025-12-07T09:35:36.997943+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-45"}}
{"timestamp": "2025-12-07T09:35:36.999863+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-50"}}
{"timestamp": "2025-12-07T09:35:37.004395+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-47"}}
{"timestamp": "2025-12-07T09:35:37.010444+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-46"}}
{"timestamp": "2025-12-07T09:35:37.027469+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-49"}}
{"timestamp": "2025-12-07T09:35:37.045773+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://analyticsdata.googleapis.com/v1beta/properties/339811531:runReport \"HTTP/1.1 200 OK\"", "file": "_client.py", "function": "_send_single_request", "line": 1740, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-48"}}
{"timestamp": "2025-12-07T09:35:37.047814+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "cebe6966-a691-4dc3-935b-81b35034d580", "extra": {"taskName": "Task-42", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/google/analytics/dashboard", "status_code": 200, "response_size": "1144", "duration_ms": 518.61}}
{"timestamp": "2025-12-07T09:36:05.023868+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "639a5a37-a427-4afd-8176-52a3ee529f91", "extra": {"taskName": "Task-36", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:36:05.033512+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "639a5a37-a427-4afd-8176-52a3ee529f91", "extra": {"taskName": "Task-36", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "status_code": 200, "response_size": "42", "duration_ms": 9.69}}
{"timestamp": "2025-12-07T09:36:27.120998+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" (scheduled at 2025-12-07 09:36:27.120146+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-27"}}
{"timestamp": "2025-12-07T09:36:27.128885+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-27"}}
{"timestamp": "2025-12-07T09:36:27.154866+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" (scheduled at 2025-12-07 09:36:27.154564+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-12"}}
{"timestamp": "2025-12-07T09:36:27.159107+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-12"}}
{"timestamp": "2025-12-07T09:36:27.328579+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" (scheduled at 2025-12-07 09:36:27.327737+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-63"}}
{"timestamp": "2025-12-07T09:36:27.335680+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-63"}}
{"timestamp": "2025-12-07T09:36:27.432565+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Running job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" (scheduled at 2025-12-07 09:36:27.430365+00:00)", "file": "base.py", "function": "run_coroutine_job", "line": 179, "extra": {"taskName": "Task-39"}}
{"timestamp": "2025-12-07T09:36:27.436965+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "apscheduler.executors.default", "message": "Job \"PostScheduler._check_pending_posts (trigger: interval[0:01:00], next run at: 2025-12-07 09:37:27 UTC)\" executed successfully", "file": "base.py", "function": "run_coroutine_job", "line": 203, "extra": {"taskName": "Task-39"}}
{"timestamp": "2025-12-07T09:36:35.004267+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request started", "file": "logging_middleware.py", "function": "dispatch", "line": 47, "request_id": "1fe457cb-77d4-4cc7-9ac5-271b4beb4ba7", "extra": {"taskName": "Task-16", "event_type": "request_start", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "http_query": null, "client_ip": "109.52.145.196", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36", "content_type": null, "content_length": null}}
{"timestamp": "2025-12-07T09:36:35.023485+00:00", "service": "portfolio-backend", "hostname": "9971c6c46254", "environment": "production", "level": "INFO", "logger": "app.middleware", "message": "Request completed", "file": "logging_middleware.py", "function": "dispatch", "line": 69, "request_id": "1fe457cb-77d4-4cc7-9ac5-271b4beb4ba7", "extra": {"taskName": "Task-16", "event_type": "request_complete", "http_method": "GET", "http_path": "/api/v1/admin/notifications/count", "status_code": 200, "response_size": "42", "duration_ms": 19.27}}
