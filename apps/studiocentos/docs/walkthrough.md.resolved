# ü§ñ Analisi Completa degli Agenti AI - StudioCentOS

Questo documento fornisce un'analisi dettagliata di tutti gli agenti AI presenti nel sistema StudioCentOS.

---

## üìä Panoramica dell'Architettura

```mermaid
graph TB
    subgraph Frontend["Frontend (React)"]
        FE[UI Components]
    end

    subgraph Backend["Backend (FastAPI)"]
        BE_API[API Layer]
        BE_AI_CLIENT[AIClient]
        BE_SCRAPER[ToolAI Scraper]
    end

    subgraph AI_Microservice["AI Microservice (FastAPI)"]
        direction TB
        subgraph API_Layer["API Layer"]
            MARKETING[/api/v1/marketing]
            SUPPORT[/api/v1/support]
            RAG[/api/v1/rag]
            TOOLAI[/api/v1/toolai]
        end
        
        subgraph Domain_Agents["Domain Agents"]
            CC[ContentCreatorAgent]
            IG[ImageGeneratorAgent]
            LI[LeadIntelligenceAgent]
            SEO[SEOAgent]
            EM[EmailMarketingAgent]
            SM[SocialMediaManagerAgent]
            CM[CampaignManagerAgent]
            TD[ToolDiscoveryAgent]
            TC[ToolContentAgent]
            CB[ChatBot]
        end
    end

    subgraph External["External APIs"]
        GROQ[Groq LLM]
        GEMINI[Google Gemini]
        IMAGEN[Imagen 4/Veo 3.1]
        APOLLO[Apollo.io]
        SENDGRID[SendGrid]
        GA4[Google Analytics 4]
        GSC[Search Console]
        TWITTER[Twitter/X API]
        FB[Facebook API]
        LI_API[LinkedIn API]
        HF[HuggingFace]
        GH[GitHub API]
    end

    FE --> BE_API
    BE_API --> BE_AI_CLIENT
    BE_AI_CLIENT --> API_Layer
    BE_SCRAPER --> HF
    BE_SCRAPER --> GH
    
    MARKETING --> CC
    MARKETING --> IG
    MARKETING --> LI
    MARKETING --> SEO
    MARKETING --> EM
    MARKETING --> SM
    MARKETING --> CM
    
    SUPPORT --> CB
    RAG --> RAG_SVC[RAG Service]
    TOOLAI --> TD
    TOOLAI --> TC
    
    CC --> GROQ
    IG --> GEMINI
    IG --> IMAGEN
    LI --> APOLLO
    EM --> SENDGRID
    SEO --> GA4
    SEO --> GSC
    SM --> TWITTER
    SM --> FB
    SM --> LI_API
    TD --> HF
    CB --> GROQ
```

---

## üéØ Agenti Marketing

### 1. ContentCreatorAgent
**File**: [content_creator.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py)  
**Linee di codice**: 2695 | **Dimensione**: 92 KB

**Funzionalit√†**:
| Metodo | Descrizione |
|--------|-------------|
| `generate_social_post()` | Post per Instagram, LinkedIn, Facebook, Twitter, TikTok |
| `generate_blog_post()` | Articoli blog con SEO ottimizzato |
| `generate_video_script()` | Script video con scene e timing |
| `generate_story_content()` | Stories multi-slide per IG/FB |
| [generate_carousel()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/core/api/v1/marketing.py#1275-1296) | Carousel educativi (7-10 slide) |
| `generate_reel_content()` | Reel/TikTok con hook-content-CTA |
| `optimize_for_seo()` | Ottimizzazione SEO contenuti |
| `check_brand_compliance()` | Verifica conformit√† Brand DNA |

**Configurazioni disponibili**:
- [BlogPostConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py#845-868) - Topic, tone, keywords, CTA
- [SocialPostConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py#870-886) - Platform, message, hashtags, emojis
- [VideoScriptConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py#903-919) - Duration, format, visual style
- [StoryConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py#921-939) - Num slides, stickers, music mood
- [CarouselConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py#941-959) - Num slides, post type
- [ReelConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/content_creator.py#961-984) - Duration, music, video style

**Brand DNA Integration**: ‚úÖ Completa con `BRAND_DNA`, `POST_TYPE_PROMPTS`, `PLATFORM_FORMAT_RULES`

---

### 2. ImageGeneratorAgent
**File**: [image_generator_agent.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/image_generator_agent.py)  
**Linee di codice**: 688 | **Dimensione**: 26 KB

**Provider supportati**:
| Provider | Descrizione |
|----------|-------------|
| `google_pro` | Google Imagen 4 Ultra (NanoBananaPRO) |
| `google` | Google Gemini Vision |
| [huggingface](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/toolai_scraper.py#391-472) | Stable Diffusion / FLUX |
| `openai` | DALL-E 3 |

**Funzionalit√†**:
- Generazione immagini con fallback multi-provider
- Rate limiting (50 req/min)
- Caching immagini su file
- Branding overlay automatico
- Style presets: professional, minimal, elegant, tech

**Configurazione**: [ImageGenerationConfig](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/image_generator_agent.py#228-238) con prompt, style, width, height, apply_branding

---

### 3. LeadIntelligenceAgent
**File**: [lead_intelligence_agent.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/lead_intelligence_agent.py)  
**Linee di codice**: 399 | **Dimensione**: 15 KB

**Funzionalit√†**:
| Metodo | Descrizione |
|--------|-------------|
| [search_leads()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/core/api/v1/marketing.py#3063-3083) | Ricerca lead intelligente con ML |
| [_apollo_lead_search()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/lead_intelligence_agent.py#137-201) | Ricerca reale via Apollo.io API |
| [_ml_lead_search()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/lead_intelligence_agent.py#254-320) | Ricerca con embeddings e vector search |
| [add_successful_customer()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/lead_intelligence_agent.py#353-395) | Aggiunge pattern clienti di successo |

**Integrazioni esterne**: Apollo.io per dati lead reali

**ML Pipeline**:
1. Embeddings con OpenAI
2. Vector store con ChromaDB
3. Similarity search per match pattern clienti

---

### 4. SEOAgent
**File**: [seo_specialist.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py)  
**Linee di codice**: 1503 | **Dimensione**: 54 KB

**Funzionalit√†**:
| Metodo | Descrizione |
|--------|-------------|
| [keyword_research()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#276-338) | Ricerca keyword con volume e difficolt√† |
| [analyze_competitors()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#339-384) | Analisi SEO competitor |
| `on_page_optimization()` | Raccomandazioni on-page |
| `track_rankings()` | Monitoraggio posizioni SERP |
| `technical_audit()` | Audit tecnico SEO |

**Integrazioni esterne**:
- Google Search Console
- Google Analytics 4

**Modelli dati**: [Keyword](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#85-102), [CompetitorAnalysis](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#104-120), [SEOIssue](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#122-131), [OnPageOptimization](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#133-158), [RankingUpdate](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/seo_specialist.py#160-176)

---

### 5. EmailMarketingAgent
**File**: [email_marketing.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/email_marketing.py)  
**Linee di codice**: 1230 | **Dimensione**: 44 KB

**Tipi campagna supportati**:
- Newsletter, Promotional, Transactional
- Welcome, Abandoned Cart, Re-engagement, Survey

**Funzionalit√†**:
| Metodo | Descrizione |
|--------|-------------|
| `create_campaign()` | Crea campagna email |
| `segment_audience()` | Segmentazione audience |
| `personalize_email()` | Personalizzazione contenuti |
| `optimize_send_time()` | Ottimizzazione timing invio |
| `analyze_performance()` | Analisi performance campagna |
| `check_deliverability()` | Report deliverability |

**Integrazione esterna**: SendGrid

---

### 6. SocialMediaManagerAgent
**File**: [social_media_manager.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/social_media_manager.py)  
**Linee di codice**: 1114 | **Dimensione**: 40 KB

**Piattaforme supportate**:
- Twitter/X, Facebook, LinkedIn, Instagram

**Funzionalit√†**:
| Metodo | Descrizione |
|--------|-------------|
| `schedule_post()` | Scheduling post multi-piattaforma |
| `get_engagement_metrics()` | Metriche engagement |
| `get_optimal_posting_times()` | Orari ottimali pubblicazione |
| `get_trending_topics()` | Topic trending per settore |
| `auto_respond_comments()` | Risposte automatiche commenti |
| `sentiment_analysis()` | Analisi sentiment con GROQ LLM |

---

### 7. CampaignManagerAgent
**File**: [campaign_manager.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/marketing/campaign_manager.py)  
**Linee di codice**: 1333 | **Dimensione**: 49 KB

**Obiettivi campagna**:
- Brand Awareness, Lead Generation, Sales
- Engagement, Retention, Reactivation

**Canali supportati**: Email, Social, PPC, SEO, Content, Display, Affiliate, Direct

**Funzionalit√†**:
| Metodo | Descrizione |
|--------|-------------|
| `plan_campaign()` | Pianificazione campagna marketing |
| `calculate_roi()` | Calcolo ROI con attribution models |
| `optimize_budget()` | Ottimizzazione budget tra canali |
| `forecast_performance()` | Previsione performance |
| `ab_test_analysis()` | Analisi A/B test |

**Integrazioni esterne**: SendGrid, Google Analytics 4

---

## üîç Agenti ToolAI

### 8. ToolDiscoveryAgent
**File**: [discovery_agent.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/toolai/discovery_agent.py)

**Funzione**: Scoperta tool AI trending da multiple fonti

**Fonti dati**:
- HuggingFace Daily Papers
- HuggingFace Models/Spaces/Datasets
- GitHub Trending AI
- Papers With Code
- ArXiv AI
- Hacker News
- Reddit r/MachineLearning

**Categorie**: LLM, Image, Audio, Video, Code, Multimodal, 3D, Robotics, Agent

---

### 9. ToolContentAgent
**File**: [content_agent.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/toolai/content_agent.py)

**Funzione**: Generazione contenuti SEO per post ToolAI

**Output**:
- Titolo (IT/EN/ES)
- Summary (IT/EN/ES)
- Contenuto (IT/EN/ES)
- Insights e Takeaway
- Meta description e keywords

---

## üí¨ Agenti Support

### 10. SupportService (ChatBot)
**File**: [service.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/support/service.py)

**Provider LLM** (in ordine di priorit√†):
1. Groq (FREE - primario)
2. HuggingFace
3. Gemini
4. OpenRouter
5. Ollama (local)

**Funzionalit√†**:
- Chat AI con context
- Health check provider
- Fallback automatico

---

## üìö Sistema RAG

**File**: [rag/service.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/rag/service.py)

**Componenti**:
| Modulo | Descrizione |
|--------|-------------|
| [embeddings.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/rag/embeddings.py) | OpenAI Embeddings |
| [stores.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/rag/stores.py) | ChromaDB Vector Store |
| [models.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/rag/models.py) | Document models |
| [service.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/domain/rag/service.py) | RAG service principale |

**Funzionalit√†**:
- Upload documenti (.txt, .md, .json, .csv, .html)
- Chunking automatico
- Semantic search
- Context retrieval per AI

---

## üîå Backend AI Infrastructure

### AIClient
**File**: [client.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py)

**Funzione**: Client HTTP centralizzato per comunicazione Backend ‚Üí AI Microservice

**Endpoints supportati**:
| Categoria | Metodi |
|-----------|--------|
| Marketing | [generate_content()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/core/api/v1/marketing.py#30-117), [generate_content_pro()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#173-220), [generate_content_format()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#221-265), [generate_image()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/core/api/v1/marketing.py#1657-2288) |
| Support | [chat()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#341-368) |
| ToolAI | [discover_tools()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/toolai_scraper.py#1070-1250) |
| RAG | [rag_query()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#483-509), [rag_search()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#464-482), [rag_upload_document()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#414-459), [rag_list_documents()](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/client.py#401-413) |
| Health | [health_check()](file:///home/autcir_gmail_com/studiocentos_ws/apps/ai_microservice/app/core/api/v1/toolai.py#180-184) |

---

### ToolAI Scraper
**File**: [toolai_scraper.py](file:///home/autcir_gmail_com/studiocentos_ws/apps/backend/app/infrastructure/ai/toolai_scraper.py)  
**Linee di codice**: 1250 | **Dimensione**: 51 KB

**Funzione**: Scraping tool AI da fonti esterne per contenuti SEO freschi

**Fonti**:
1. HuggingFace Daily Papers (priorit√† massima)
2. GitHub Trending AI (repo creati ultima settimana)
3. HuggingFace Models (aggiornati 48h)
4. HuggingFace Spaces (app interattive)
5. Papers With Code
6. ArXiv AI
7. HuggingFace Datasets
8. Hacker News AI
9. Reddit r/MachineLearning

**Strategia SEO**: Contenuti freschi ogni giorno con engagement reale

---

## üìà Statistiche Complessive

| Metrica | Valore |
|---------|--------|
| **Agenti Totali** | 10 |
| **Linee di codice (domain)** | ~10,000+ |
| **Provider LLM** | 5 (Groq, Gemini, HuggingFace, OpenRouter, Ollama) |
| **API Esterne** | 12+ |
| **Piattaforme Social** | 4 (Twitter, Facebook, LinkedIn, Instagram) |
| **Formati Contenuto** | 6 (Post, Story, Carousel, Reel, Video, Blog) |

---

## üîó Integrazioni Esterne Riepilogo

| Categoria | Servizi |
|-----------|---------|
| **LLM** | Groq (Llama 3.3-70B), Google Gemini, OpenRouter, Ollama |
| **Image Generation** | Google Imagen 4, Veo 3.1, HuggingFace FLUX |
| **Lead Generation** | Apollo.io |
| **Email** | SendGrid |
| **Analytics** | Google Analytics 4, Google Search Console |
| **Social Media** | Twitter/X, Facebook, LinkedIn |
| **AI Discovery** | HuggingFace, GitHub, ArXiv, Papers With Code, Hacker News, Reddit |
