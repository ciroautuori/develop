<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />

    <!-- Force HTTPS for all requests (CSP) -->
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <!-- Google Consent Mode v2 - MUST BE BEFORE GTAG -->
    <script>
      // Define dataLayer and gtag function
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}

      // Default consent to 'denied' as a placeholder (GDPR compliant)
      // Will be updated by CookieBanner based on user choice
      gtag('consent', 'default', {
        'ad_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied',
        'analytics_storage': 'denied',
        'wait_for_update': 500
      });

      // Set URL passthrough for cookieless tracking when consent denied
      gtag('set', 'url_passthrough', true);

      // Redact ads data when ad_storage is denied
      gtag('set', 'ads_data_redaction', true);
    </script>

    <!-- Google Analytics GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MARKETTINA"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-MARKETTINA', {
        'anonymize_ip': true,
        'allow_google_signals': false,
        'allow_ad_personalization_signals': false
      });
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover" />

    <!-- Mobile PWA Support -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="MARKETTINA" />
    <meta name="format-detection" content="telephone=no" />

    <!-- SEO Meta Tags - MARKETTINA v2.0 -->
    <meta name="description" content="MARKETTINA - Piattaforma SaaS di Marketing Automation con AI Generativa. Calendario Editoriale, Cross-Posting Social, Lead Generation, Brand DNA, Analytics Avanzate. Automatizza il tuo marketing con l'intelligenza artificiale. Made in Italy ðŸ‡®ðŸ‡¹" />
    <meta name="keywords" content="marketing automation, ai marketing, social media automation, calendario editoriale, cross posting, lead generation, brand dna, content generation, ai content, social media management, instagram automation, linkedin automation, facebook automation, marketing saas, piattaforma marketing, automazione marketing, intelligenza artificiale marketing, generazione contenuti ai, gestione social media, analytics marketing, sentiment analysis, competitor analysis, email marketing automation, crm marketing, marketing digitale, digital marketing platform, marketing ai italia" />
    <meta name="author" content="MARKETTINA - AI Marketing Automation" />
    <meta name="theme-color" content="#D4AF37" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="it_IT" />
    <meta property="og:url" content="https://markettina.it" />
    <meta property="og:site_name" content="MARKETTINA" />
    <meta property="og:title" content="MARKETTINA - AI Marketing Automation Platform | Calendario Editoriale, Social, Lead Generation" />
    <meta property="og:description" content="Piattaforma SaaS di Marketing Automation con AI Generativa. Automatizza contenuti, social media, lead generation. Prova gratuita. Made in Italy ðŸ‡®ðŸ‡¹" />
    <meta property="og:image" content="https://markettina.it/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@markettina_ai" />
    <meta name="twitter:creator" content="@markettina_ai" />
    <meta name="twitter:url" content="https://markettina.it" />
    <meta name="twitter:title" content="MARKETTINA - AI Marketing Automation Platform" />
    <meta name="twitter:description" content="Piattaforma SaaS di Marketing Automation con AI Generativa. Automatizza il tuo marketing. Made in Italy ðŸ‡®ðŸ‡¹" />
    <meta name="twitter:image" content="https://markettina.it/og-image.png" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://markettina.it" />

    <!-- Schema.org JSON-LD per SoftwareApplication -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "@id": "https://markettina.it",
      "name": "MARKETTINA",
      "alternateName": "MARKETTINA AI Marketing Automation",
      "description": "Piattaforma SaaS di Marketing Automation con AI Generativa. Calendario Editoriale, Cross-Posting Social, Lead Generation, Brand DNA, Analytics Avanzate.",
      "url": "https://markettina.it",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR",
        "description": "Free Trial disponibile"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "reviewCount": "50"
      },
      "featureList": [
        "Calendario Editoriale AI",
        "Cross-Posting Multi-Piattaforma",
        "Lead Generation Automatica",
        "Brand DNA & Tone of Voice",
        "Analytics & Sentiment Analysis",
        "Competitor Tracking",
        "Content Generation AI",
        "Image Generation AI",
        "Video Generation AI",
        "Workflow Automation"
      ]
    }
    </script>

    <!-- Schema.org JSON-LD per Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "MARKETTINA",
      "url": "https://markettina.it",
      "logo": "https://markettina.it/logo.png",
      "description": "Piattaforma SaaS italiana di Marketing Automation con AI Generativa.",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "Customer Service",
        "email": "info@markettina.it",
        "availableLanguage": ["Italian", "English"]
      },
      "sameAs": [
        "https://www.linkedin.com/company/markettina",
        "https://twitter.com/markettina_ai",
        "https://www.instagram.com/markettina_ai"
      ]
    }
    </script>

    <title>MARKETTINA - AI Marketing Automation Platform | Calendario Editoriale, Social Media, Lead Generation</title>
  </head>
  <body>
    <!-- DOM Safety Patch - MUST RUN BEFORE ANY SCRIPTS -->
    <!-- Prevents framer-motion "can't access property 'add', t is undefined" error -->
    <script>
      (function() {
        if (typeof window === 'undefined' || typeof Element === 'undefined') return;

        // Safe mock classList
        var createSafeClassList = function() {
          return {
            add: function() {},
            remove: function() {},
            toggle: function() { return false; },
            contains: function() { return false; },
            replace: function() { return false; },
            length: 0,
            value: '',
            item: function() { return null; },
            forEach: function() {},
            supports: function() { return false; },
            toString: function() { return ''; }
          };
        };

        // Patch Element.prototype.classList
        var originalDescriptor = Object.getOwnPropertyDescriptor(Element.prototype, 'classList');
        if (originalDescriptor && originalDescriptor.get) {
          var originalGet = originalDescriptor.get;
          Object.defineProperty(Element.prototype, 'classList', {
            configurable: true,
            enumerable: true,
            get: function() {
              try {
                if (!this || !this.ownerDocument) return createSafeClassList();
                var list = originalGet.call(this);
                return list || createSafeClassList();
              } catch (e) {
                return createSafeClassList();
              }
            }
          });
        }

        // Patch document.createElement
        var originalCreateElement = document.createElement.bind(document);
        document.createElement = function(tagName, options) {
          var element = originalCreateElement(tagName, options);
          if (!element.classList) {
            Object.defineProperty(element, 'classList', {
              value: createSafeClassList(),
              writable: true,
              configurable: true
            });
          }
          return element;
        };
      })();
    </script>

    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
